<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netdis: customizations • netdist</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Netdis: customizations">
<meta property="og:description" content="netdist">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netdist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ManyToMany.html">Simple and quick (default) usage 3: many to many comparisons</a>
    </li>
    <li>
      <a href="../articles/NetEmdTimeOrdering.html">NetEmd: World trade</a>
    </li>
    <li>
      <a href="../articles/NetdisGPStepByStep.html">Netdis-GP: step by step</a>
    </li>
    <li>
      <a href="../articles/NetdisStepByStep.html">Netdis: step by step</a>
    </li>
    <li>
      <a href="../articles/NewNetdisCustomisations.html">Netdis: customizations</a>
    </li>
    <li>
      <a href="../articles/PreComputedProps.html">Simple and quick (default) usage 2: pre-computed properties</a>
    </li>
    <li>
      <a href="../articles/V-Menu.html">Netdis Vignette's Menu</a>
    </li>
    <li>
      <a href="../articles/default_pairwise_usage.html">Simple and quick (default) usage 1: pairwise comparisons</a>
    </li>
    <li>
      <a href="../articles/dendrogram_example_net_dis.html">Netdis: Protein interaction networks</a>
    </li>
    <li>
      <a href="../articles/dendrogram_example_net_emd.html">Dendrogram example for NetEMD</a>
    </li>
    <li>
      <a href="../articles/netdis_customisations.html">Usage of netdis with binning and expected counts customisations.</a>
    </li>
    <li>
      <a href="../articles/netdis_pairwise_comparisons.html">Usage of netdis interfaces for different pairwise comparison options.</a>
    </li>
    <li>
      <a href="../articles/quickstart_netdis_2graphs.html">Quick start guide for Netdis - 2 graphs</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Netdis: customizations</h1>
            
            <h4 data-toc-skip class="date">2022-06-06</h4>
      
      
      <div class="hidden name"><code>NewNetdisCustomisations.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explains variants of Netdis via global parameter changes of the functions applying Netdis, for example <code>netemd_one_to_one</code> and <code>netdis_many_to_many</code>. For a more in-depth view of the inner steps of Netdis please check <a href="NetdisStepByStep.html">“Netdis: step by step”</a> and <a href="NetdisGPStepByStep.html">“Netdis-GP: step by step”</a>.</p>
<p>Similarly, to see how to use pre-computed properties see <a href="PreComputedProps.html">“Simple and quick (default) usage 2: pre-computed properties”</a></p>
<p>For other vignettes in this package see the <a href="V-Menu.html">“Menu”</a>.</p>
</div>
<div class="section level2">
<h2 id="compare-multiple-networks-via-netdis">Compare multiple networks via Netdis<a class="anchor" aria-label="anchor" href="#compare-multiple-networks-via-netdis"></a>
</h2>
<div class="section level3">
<h3 id="load-required-packageslibraries">Load required packages/libraries<a class="anchor" aria-label="anchor" href="#load-required-packageslibraries"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"netdist"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://igraph.org" class="external-link">"igraph"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"pheatmap"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="networks-being-compared">Networks being compared<a class="anchor" aria-label="anchor" href="#networks-being-compared"></a>
</h3>
<p>Generation of regular grid, ring and tree-like networks with 400 nodes and 1600 nodes. A start-like graph is generated so they can be used as input for the reference graph in the option <code>ref_graph</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create lattice, Ring and Tree like networks of sizes 20^2 and 40^2.</span>
<span class="co"># Create networks</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">3171</span><span class="op">)</span>
<span class="va">gLat_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_lattice.html" class="external-link">graph.lattice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span> 
<span class="va">gLat_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_lattice.html" class="external-link">graph.lattice</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>,<span class="fl">40</span><span class="op">)</span><span class="op">)</span>  
<span class="va">gRing_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_ring.html" class="external-link">make_ring</a></span><span class="op">(</span><span class="fl">20</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> 
<span class="va">gRing_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_ring.html" class="external-link">make_ring</a></span><span class="op">(</span><span class="fl">40</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>
<span class="va">gTree_1</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/as.directed.html" class="external-link">as.undirected</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_tree.html" class="external-link">make_tree</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span><span class="op">^</span><span class="fl">2</span>,children <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">)</span>
<span class="va">gTree_2</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/as.directed.html" class="external-link">as.undirected</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_tree.html" class="external-link">make_tree</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">40</span><span class="op">^</span><span class="fl">2</span>,children <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">)</span>

<span class="va">glist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Lat_1<span class="op">=</span><span class="va">gLat_1</span>, Lat_2<span class="op">=</span><span class="va">gLat_2</span>, Ring_1<span class="op">=</span><span class="va">gRing_1</span>, Ring_2<span class="op">=</span><span class="va">gRing_1</span>, Tree_1<span class="op">=</span><span class="va">gTree_1</span>, Tree_2<span class="op">=</span><span class="va">gTree_2</span><span class="op">)</span>

<span class="co"># Create a random graph to be used as a gold-standard</span>
<span class="va">gst</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/as.directed.html" class="external-link">as.undirected</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/make_star.html" class="external-link">graph.star</a></span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="variants-of-netdis-changing-the-expectation">Variants of Netdis: Changing the expectation<a class="anchor" aria-label="anchor" href="#variants-of-netdis-changing-the-expectation"></a>
</h2>
<div class="section level3">
<h3 id="using-netdis-with-a-reference-graph-as-a-proxy-for-e_w">Using Netdis with a reference graph as a proxy for <span class="math inline">\(E_w\)</span><a class="anchor" aria-label="anchor" href="#using-netdis-with-a-reference-graph-as-a-proxy-for-e_w"></a>
</h3>
<p>For this variant a reference graph or gold-standard graph has to be given in <code>ref_graph</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">netdis_mat_gst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="va">gst</span>
                                      <span class="op">)</span>
<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdis_mat_gst</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis with reference graph"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/netdisgoldstand-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="using-netdis-with-a-constant-valued-expectation-e_wk">Using Netdis with a constant valued expectation, <span class="math inline">\(E_w=k\)</span><a class="anchor" aria-label="anchor" href="#using-netdis-with-a-constant-valued-expectation-e_wk"></a>
</h3>
<p>For this variant please set <code>ref_graph</code> to the desired constant <span class="math inline">\(k\)</span>. In this example we consider <span class="math inline">\(k=0\)</span> and <span class="math inline">\(k=5\)</span>. Considering <span class="math inline">\(k=0\)</span> is equivalent to computing Netdis without background expectations:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">netdis_mat_zero</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="fl">0</span>
                                      <span class="op">)</span>
<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdis_mat_zero</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis Ew=0"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/netdisconstant-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">netdis_mat_5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="fl">5</span>
                                      <span class="op">)</span>
<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdis_mat_5</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis Ew=5"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/netdisconstant-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="using-netdis-gp-geometric-poisson-approximation-for-e_w">Using Netdis-GP, Geometric-Poisson approximation for <span class="math inline">\(E_w\)</span><a class="anchor" aria-label="anchor" href="#using-netdis-gp-geometric-poisson-approximation-for-e_w"></a>
</h3>
<p>In order to obtain the Netdis-GP variant set <code>ref_graph=NULL</code> (default).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">netdisgp_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="cn">NULL</span>
                                      <span class="op">)</span>
<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span><span class="va">netdisgp_mat</span>, whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis-GP"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="customizing-the-ego-network-binning-function">Customizing the ego-network binning function<a class="anchor" aria-label="anchor" href="#customizing-the-ego-network-binning-function"></a>
</h2>
<p>The ego-network binning function takes as argument a vector of the ego-network edge densities. The function should return a named list that includes: the input <code>densities</code>, the resulting bin <code>breaks</code> (vector of density bin limits), and the vector <code>interval_indexes</code>, which states to what bin each of the individual elements in <code>densities</code> belongs to. See for example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#  Create an ego-network edge density binning function.</span>
<span class="va">mybinning</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">densities</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">min_counts_per_interval</span> <span class="op">&lt;-</span> <span class="fl">5</span>
  <span class="va">num_intervals</span> <span class="op">&lt;-</span> <span class="fl">3</span>
  <span class="co">#</span>
  <span class="kw">if</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">densities</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">min_counts_per_interval</span><span class="op">)</span> <span class="va">min_counts_per_interval</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">densities</span><span class="op">)</span>
  <span class="va">breaks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adaptive_breaks.html">adaptive_breaks</a></span><span class="op">(</span><span class="va">densities</span>,
    min_count <span class="op">=</span> <span class="va">min_counts_per_interval</span>,
    breaks <span class="op">=</span> <span class="va">num_intervals</span>
  <span class="op">)</span>
  <span class="va">interval_indexes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interval_index.html">interval_index</a></span><span class="op">(</span><span class="va">densities</span>,
    breaks <span class="op">=</span> <span class="va">breaks</span>,
    out_of_range_intervals <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
    densities <span class="op">=</span> <span class="va">densities</span>,
    interval_indexes <span class="op">=</span> <span class="va">interval_indexes</span>,
    breaks <span class="op">=</span> <span class="va">breaks</span>
  <span class="op">)</span>
<span class="op">}</span>
  
<span class="co"># Let us see an example output of the binning function</span>
<span class="va">binning_example</span> <span class="op">&lt;-</span> <span class="fu">mybinning</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span>
<span class="va">binning_example</span><span class="op">$</span><span class="va">breaks</span>
<span class="co">#&gt; [1] 0.00093606 0.31293453 0.62493299 0.93693146</span>
<span class="va">binning_example</span><span class="op">$</span><span class="va">interval_indexes</span>
<span class="co">#&gt;  [1] 3 3 3 3 1 3 1 2 3 2 1 1 3 3 1 2 2 1 3 2</span>
<span class="va">binning_example</span><span class="op">$</span><span class="va">densities</span>
<span class="co">#&gt;  [1] 0.90183463 0.83662820 0.75634512 0.93693146 0.24787592 0.78007443</span>
<span class="co">#&gt;  [7] 0.20881321 0.57385278 0.66168051 0.39975093 0.30804320 0.00093606</span>
<span class="co">#&gt; [13] 0.66199332 0.81576412 0.14154199 0.59276806 0.54784373 0.02511692</span>
<span class="co">#&gt; [19] 0.84193079 0.38426721</span>

<span class="co"># Calculate Netdis</span>
<span class="va">netdisgp_mat_mybin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="cn">NULL</span>, 
                                      binning_fn <span class="op">=</span> <span class="va">mybinning</span>
                                      <span class="op">)</span>

<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdisgp_mat_mybin</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis-GP with mybinning"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Note that whenever <span class="math inline">\(E_w\)</span> is taken as a constant value, then the binning will not have an effect on the computation of Netdis.</p>
<hr>
</div>
<div class="section level2">
<h2 id="other-simple-customization-of-the-netdis-computation">Other simple customization of the Netdis computation<a class="anchor" aria-label="anchor" href="#other-simple-customization-of-the-netdis-computation"></a>
</h2>
<div class="section level3">
<h3 id="changing-default-function-parameter-values-in-the-computation-of-netdis">Changing default function parameter values in the computation of Netdis<a class="anchor" aria-label="anchor" href="#changing-default-function-parameter-values-in-the-computation-of-netdis"></a>
</h3>
<p>The following shows possible changes to the subgraph/graphlet size, the radius of the ego-networks considered, the minimum number of nodes and edges that are allowed in the ego-networks used in Netdis, and finally, some parameters to modify the ego-network binning. The following are the default values:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Maximum graphlet size to calculate counts and netdis statistic for.</span>
<span class="va">max_graphlet_size</span> <span class="op">&lt;-</span> <span class="fl">4</span>

<span class="co"># Ego-network neighbourhood size</span>
<span class="va">neighbourhood_size</span> <span class="op">&lt;-</span> <span class="fl">2</span>

<span class="co"># Minimum size of ego networks to consider</span>
<span class="va">min_ego_nodes</span> <span class="op">&lt;-</span> <span class="fl">3</span>
<span class="va">min_ego_edges</span> <span class="op">&lt;-</span> <span class="fl">1</span>

<span class="co"># Ego network density binning parameters</span>
<span class="va">min_bin_count</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">num_bins</span> <span class="op">&lt;-</span> <span class="fl">100</span></code></pre></div>
<p>These values can be directly imputed and changed into the shortcut Netdis function calls. However, not all combinations may be possible. The following shows the use of subgraphs up to size 4, with 3-step ego-networks and where only ego-networks with at least 5 nodes and 4 edges can be considered. Furthermore, the binning of the ego-networks will be sett to start with 20 bins and each bin will be required to have at least 20 elements.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># (We only recommend changing these default values for those users that have a clear understanding of graph theory behind it)</span>
<span class="co">#(change values with care as not all combinations may be possible).</span>

<span class="co">#Defining a new binning function:</span>
<span class="va">binning_fn</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span><span class="va">binned_densities_adaptive</span>,
                             min_counts_per_interval <span class="op">=</span> <span class="fl">10</span>, <span class="co">#10-egos required per bin</span>
                             num_intervals <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="co">#Start binning with 20 bins</span>

<span class="co">#Changing parameter values in Netdis:</span>
<span class="va">netdisgp_mat_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="cn">NULL</span>,
                                      max_graphlet_size <span class="op">=</span> <span class="fl">4</span>, <span class="co">#Subgraphs/graphlets up to size 4 considered.</span>
                                      neighbourhood_size <span class="op">=</span> <span class="fl">3</span>,<span class="co"># 3-step ego-networks</span>
                                      min_ego_nodes <span class="op">=</span> <span class="fl">5</span>, <span class="co">#ego-networks with at least five nodes</span>
                                      min_ego_edges <span class="op">=</span> <span class="fl">4</span>, <span class="co">#ego-networks with at least 4 edges</span>
                                      binning_fn <span class="op">=</span> <span class="va">binning_fn</span> <span class="co">#Providing a custom binning function</span>
                                    <span class="op">)</span></code></pre></div>
<p>Here the default parameters are used, and a heatmap of the result of Netdis with default parameters and Netdis with the previously modified parameters is given:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Default binning</span>
<span class="va">binning_fn</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span><span class="va">binned_densities_adaptive</span>,
                             min_counts_per_interval <span class="op">=</span> <span class="va">min_bin_count</span>,
                             num_intervals <span class="op">=</span> <span class="va">num_bins</span><span class="op">)</span>
<span class="co">#Default computation of Netdis</span>
<span class="va">netdisgp_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netdis_many_to_many.html">netdis_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">glist</span>,
                                      ref_graph <span class="op">=</span> <span class="cn">NULL</span>,
                                      max_graphlet_size <span class="op">=</span> <span class="va">max_graphlet_size</span>,
                                      neighbourhood_size <span class="op">=</span> <span class="va">neighbourhood_size</span>,
                                      min_ego_nodes <span class="op">=</span> <span class="va">min_ego_nodes</span>,
                                      min_ego_edges <span class="op">=</span> <span class="va">min_ego_edges</span>,
                                      binning_fn <span class="op">=</span> <span class="va">binning_fn</span>
                                    <span class="op">)</span>
<span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdisgp_mat</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis-GP: Default parameter values"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/netdis.plot.html">netdis.plot</a></span><span class="op">(</span>netdislist <span class="op">=</span> <span class="va">netdisgp_mat_custom</span>,whatrow <span class="op">=</span> <span class="fl">2</span>, main <span class="op">=</span> <span class="st">"Netdis-GP: illustrative parameter changes"</span><span class="op">)</span></code></pre></div>
<p><img src="NewNetdisCustomisations_files/figure-html/unnamed-chunk-6-2.png" width="672" style="display: block; margin: auto;"></p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<ul>
<li><p>W. Ali, T. Rito, G. Reinert, F. Sun, and C. M. Deane. Alignment-free protein interaction network comparison. Bioinformatics, 30:i430–i437, 2014.</p></li>
<li><p>A. E. Wegner, L. Ospina-Forero, R. E. Gaunt, C. M. Deane, and G. Reinert. Identifying networks with common organizational principles. Journal of Complex networks, 2017.</p></li>
<li><p>L. Ospina-Forero, C. M. Deane, and G. Reinert. Assessment of model fit via network comparison methods based on subgraph counts. Journal of Complex Networks, page cny017, August 2018.</p></li>
<li><p>F. Picard, J.-J. Daudin, M. Koskas, S. Schbath, and S. Robin. Assessing the exceptionality of network motifs. Journal of Computational Biology, 15(1):1–20, 2008.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin O’Reilly.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
