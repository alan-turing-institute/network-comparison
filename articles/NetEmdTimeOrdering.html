<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NetEmd: World trade • netdist</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="NetEmd: World trade">
<meta property="og:description" content="netdist">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netdist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ManyToMany.html">Simple and quick (default) usage 3: many to many comparisons</a>
    </li>
    <li>
      <a href="../articles/NetEmdTimeOrdering.html">NetEmd: World trade</a>
    </li>
    <li>
      <a href="../articles/NetdisGPStepByStep.html">Netdis-GP: step by step</a>
    </li>
    <li>
      <a href="../articles/NetdisStepByStep.html">Netdis: step by step</a>
    </li>
    <li>
      <a href="../articles/NewNetdisCustomisations.html">Netdis: customizations</a>
    </li>
    <li>
      <a href="../articles/PreComputedProps.html">Simple and quick (default) usage 2: pre-computed properties</a>
    </li>
    <li>
      <a href="../articles/V-Menu.html">Netdis Vignette's Menu</a>
    </li>
    <li>
      <a href="../articles/default_pairwise_usage.html">Simple and quick (default) usage 1: pairwise comparisons</a>
    </li>
    <li>
      <a href="../articles/dendrogram_example_net_dis.html">Netdis: Protein interaction networks</a>
    </li>
    <li>
      <a href="../articles/dendrogram_example_net_emd.html">Dendrogram example for NetEMD</a>
    </li>
    <li>
      <a href="../articles/netdis_customisations.html">Usage of netdis with binning and expected counts customisations.</a>
    </li>
    <li>
      <a href="../articles/netdis_pairwise_comparisons.html">Usage of netdis interfaces for different pairwise comparison options.</a>
    </li>
    <li>
      <a href="../articles/quickstart_netdis_2graphs.html">Quick start guide for Netdis - 2 graphs</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>NetEmd: World trade</h1>
            
            <h4 data-toc-skip class="date">2022-06-06</h4>
      
      
      <div class="hidden name"><code>NetEmdTimeOrdering.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="world-trade-networks">World trade networks<a class="anchor" aria-label="anchor" href="#world-trade-networks"></a>
</h2>
<p>The world trade data set consists of a small sample of world trade networks for the years 2001-2014, and pre-computed subgraph counts of a larger set of world trade networks (1985–2014). The world trade networks are based on the data set from [Feenstra et al., 2005] for the years 1985-2000 and on the United Nations division COMTRADE for the years 2001-2014.</p>
<p>For an introduction to NetEmd and its variants see <a href="default_pairwise_usage.html">“Simple and quick (default) usage 1: pairwise comparisons”</a>.</p>
<p>For many to many comparisons see <a href="ManyToMany.html">Simple and quick (default) usage 3: many to many comparisons</a></p>
<p>For other vignettes in this package see the <a href="V-Menu.html">“Menu”</a>.</p>
</div>
<div class="section level2">
<h2 id="loading-world-trade-network-data-included-in-the-package">Loading world trade network data included in the package<a class="anchor" aria-label="anchor" href="#loading-world-trade-network-data-included-in-the-package"></a>
</h2>
<p>The package contains the world trade networks and pre-computed subgraph/graphlet counts in the R data object <code>worldtradesub</code>. This object contains a list of two lists. The first list is <code>worldtradesub$wtnets</code> which contains a small sample of the trade networks (2001-2014) and the second <code>worldtradesub$Counts</code> which contains pre-computed counts for a larger set of trade networks going from 1985 to 2014.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"netdist"</span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://igraph.org" class="external-link">"igraph"</a></span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">worldtradesub</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">worldtradesub</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##        Length Class  Mode</span>
<span class="co">## wtnets 14     -none- list</span>
<span class="co">## Counts 30     -none- list</span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="va">wtnets</span><span class="op">&lt;-</span> <span class="va">worldtradesub</span><span class="op">$</span><span class="va">wtnets</span>
  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">wtnets</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##         Length Class  Mode</span>
<span class="co">## wtn2001 229    igraph list</span>
<span class="co">## wtn2002 229    igraph list</span>
<span class="co">## wtn2003 229    igraph list</span>
<span class="co">## wtn2004 229    igraph list</span>
<span class="co">## wtn2005 229    igraph list</span>
<span class="co">## wtn2006 231    igraph list</span>
<span class="co">## wtn2007 230    igraph list</span>
<span class="co">## wtn2008 230    igraph list</span>
<span class="co">## wtn2009 230    igraph list</span>
<span class="co">## wtn2010 230    igraph list</span>
<span class="co">## wtn2011 241    igraph list</span>
<span class="co">## wtn2012 241    igraph list</span>
<span class="co">## wtn2013 242    igraph list</span>
<span class="co">## wtn2014 241    igraph list</span></code></pre>
<p>These world trade networks are denser than typically sparse social networks. For example, the edge density for the network in 2001 is 0.5206466. Here is a plot of this network highlighting the relatively large number of edges:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">wtnets</span><span class="op">$</span><span class="va">wtn2001</span>,vertex.size<span class="op">=</span><span class="fl">5</span>,vertex.label.cex<span class="op">=</span><span class="fl">0.4</span><span class="op">)</span></code></pre></div>
<p><img src="NetEmdTimeOrdering_files/figure-html/unnamed-chunk-2-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="generate-netemd-measures-between-each-pair-of-query-graphs">Generate NetEmd measures between each pair of query graphs<a class="anchor" aria-label="anchor" href="#generate-netemd-measures-between-each-pair-of-query-graphs"></a>
</h2>
<p>In this example <strong>NetEmd</strong> will consider orbit counts of subgraphs containing up to 5 nodes. If NetEmd is to be called a single time, then the command <code>netemd_many_to_many(graphs = wtnets)</code> would suffice. The following code provides such an example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="co"># As the trade networks are considerable dense, this example first considers a small number of networks.</span>
  <span class="co">#This example may take some minutes to run.</span>
  <span class="va">netemd_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netemd_many_to_many.html">netemd_many_to_many</a></span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">wtnets</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,mc.cores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">netemd_result</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## $netemds</span>
<span class="co">## [1] 0.03712005 0.04631989 0.04988984 0.04545267 0.05052376 0.04350508</span>
<span class="co">## </span>
<span class="co">## $comp_spec</span>
<span class="co">##    name_a  name_b index_a index_b</span>
<span class="co">## 1 wtn2001 wtn2002       1       2</span>
<span class="co">## 2 wtn2001 wtn2003       1       3</span>
<span class="co">## 3 wtn2001 wtn2004       1       4</span>
<span class="co">## 4 wtn2002 wtn2003       2       3</span>
<span class="co">## 5 wtn2002 wtn2004       2       4</span>
<span class="co">## 6 wtn2003 wtn2004       3       4</span></code></pre>
<p>However, if there are pre-computed counts or features NetEmd can be called via these features instead.</p>
</div>
<div class="section level2">
<h2 id="pre-computing-subgraph-counts">Pre-computing subgraph counts<a class="anchor" aria-label="anchor" href="#pre-computing-subgraph-counts"></a>
</h2>
<p>World trade networks consist of relatively dense networks, thus leading to longer computational times for the calculation of the subgraph counts. Hence, it is advisable to pre-compute counts in case there is a need to call NetEmd multiple times. This may, for example, be the case when adding a new network to the data set. The following illustrates the extraction of subgraph counts for the small network sample.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># This example may take more than a few minutes to run  (approx. 20 mins) , and it is not necessary to run it for the upcoming examples as a larger set of counts has been already computed.</span>
<span class="kw">if</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span><span class="co"># It is not necessary to run, as these counts are already available in.</span>
    <span class="va">Counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>
    <span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">wtnets</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
      <span class="va">Counts</span><span class="op">[[</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">wtnets</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/count_orbits_per_node.html">count_orbits_per_node</a></span><span class="op">(</span>graph <span class="op">=</span> <span class="va">wtnets</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span>,max_graphlet_size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
    <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<p>Now, with pre-computed counts NetEmd can be calculated more rapidly as the computations of the counts are often the bottle neck in the computational time of NetEmd. NetEmd will be called 435 times in order to obtain all pairwise comparisons between the trade networks from 1985 to 2014 (networks with pre-computed subgraph counts):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="co"># The pre-computed counts already in the package</span>
  <span class="va">Counts</span> <span class="op">&lt;-</span> <span class="va">worldtradesub</span><span class="op">$</span><span class="va">Counts</span>
  
  <span class="co">#Calling NetEmd </span>
  <span class="va">netemd_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netemd_many_to_many.html">netemd_many_to_many</a></span><span class="op">(</span>dhists <span class="op">=</span> <span class="va">Counts</span> ,mc.cores <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
  
  <span class="co">#Results</span>
  <span class="va">netemd_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cross_comp_to_matrix.html">cross_comp_to_matrix</a></span><span class="op">(</span>measure <span class="op">=</span> <span class="va">netemd_result</span><span class="op">$</span><span class="va">netemds</span>, cross_comparison_spec <span class="op">=</span> <span class="va">netemd_result</span><span class="op">$</span><span class="va">comp_spec</span><span class="op">)</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">netemd_matrix</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##            wtn1985    wtn1986    wtn1987    wtn1988    wtn1989</span>
<span class="co">## wtn1985 0.00000000 0.06000566 0.06388141 0.07091367 0.07508959</span>
<span class="co">## wtn1986 0.06000566 0.00000000 0.04291007 0.05647305 0.06232073</span>
<span class="co">## wtn1987 0.06388141 0.04291007 0.00000000 0.04762522 0.05721742</span>
<span class="co">## wtn1988 0.07091367 0.05647305 0.04762522 0.00000000 0.04730003</span>
<span class="co">## wtn1989 0.07508959 0.06232073 0.05721742 0.04730003 0.00000000</span>
<span class="co">## wtn1990 0.08075132 0.05614243 0.05285928 0.05107413 0.04988101</span>
<span class="co">## wtn1991 0.09675875 0.07111393 0.06269038 0.05832283 0.06260774</span>
<span class="co">## wtn1992 0.09620353 0.08368101 0.07167237 0.07333704 0.07852889</span>
<span class="co">## wtn1993 0.09766273 0.07737793 0.07038021 0.05872911 0.06700535</span>
<span class="co">## wtn1994 0.10880319 0.07864215 0.07424942 0.06994889 0.07561539</span></code></pre>
</div>
<div class="section level2">
<h2 id="evidence-of-change-in-world-trade">Evidence of change in world trade<a class="anchor" aria-label="anchor" href="#evidence-of-change-in-world-trade"></a>
</h2>
<p>Based on the comparison of the world trade networks across the years, we can identify periods of time where possible considerable changes in world trade have occurred. The following heat map clearly shows the existence of two potential changes in the world trade system, and which correspond to 1995-1996 and 2010-2011.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu"><a href="../reference/netemd.plot.html">netemd.plot</a></span><span class="op">(</span>netemdlist<span class="op">=</span><span class="va">netemd_result</span>,clustering_method<span class="op">=</span><span class="st">"ward.D"</span>,main<span class="op">=</span><span class="st">"NetEmd"</span>,docluster <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="NetEmdTimeOrdering_files/figure-html/unnamed-chunk-6-1.png" width="816" style="display: block; margin: auto;"></p>
<p>The World Trade Organization (WTO) said the following about these years:</p>
<ul>
<li><p>About 2010-2011: “<em>World trade growth decelerated sharply in 2011 as the global economy struggled under the influence of natural disasters, financial uncertainty and civil conflict. A slowdown in trade had been expected after the strong rebound of 2010 but the earthquake in Japan and flooding in Thailand shook global supply chains, and fears of sovereign default in the euro area weighed heavily in the closing months of the year. The civil war in Libya also reduced oil supplies and contributed to sharply higher prices. All of these factors combined to produce below average growth in trade in 2011</em>” WTO report 2012, section “World trade in 2011” accessed on February 4th 2021 (<a href="https://www.wto.org/english/res_e/booksp_e/anrep_e/world_trade_report12_e.pdf" class="external-link uri">https://www.wto.org/english/res_e/booksp_e/anrep_e/world_trade_report12_e.pdf</a>) and (<a href="https://www.wto.org/english/res_e/publications_e/wtr12_e.htm" class="external-link uri">https://www.wto.org/english/res_e/publications_e/wtr12_e.htm</a>)</p></li>
<li><p>About 1995-1996: “<em>The WTO was created in January 1995, upon the completion of the Uruguay Round which established new rules for international trade in goods, services and intellectual property.</em>” WTO 1996 press releases accessed on February 4th 2021 (<a href="https://www.wto.org/english/news_e/pres96_e/anrep.htm" class="external-link uri">https://www.wto.org/english/news_e/pres96_e/anrep.htm</a>).</p></li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<ul>
<li><p>A. E. Wegner, L. Ospina-Forero, R. E. Gaunt, C. M. Deane, and G. Reinert. Identifying networks with common organizational principles. Journal of Complex networks, 2017.</p></li>
<li><p>R. C. Feenstra, R. E. Lipsey, H. Deng, A. C. Ma, and H. Mo. World trade flows: 1962-2000. Technical report, National Bureau of Economic Research, 2005. See also <a href="https://cid.econ.ucdavis.edu/wix.html" class="external-link uri">https://cid.econ.ucdavis.edu/wix.html</a>.</p></li>
<li><p>United Nations Statistics Division. United nations commodity trade statistics database (un comtrade). <a href="http://comtrade.un.org/" class="external-link uri">http://comtrade.un.org/</a>, 2015.</p></li>
<li><p>W. Ali, T. Rito, G. Reinert, F. Sun, and C. M. Deane. Alignment-free protein interaction network comparison. Bioinformatics, 30:i430–i437, 2014.</p></li>
<li><p>L. Ospina-Forero, C. M. Deane, and G. Reinert. Assessment of model fit via network comparison methods based on subgraph counts. Journal of Complex Networks, page cny017, August 2018.</p></li>
<li><p>F. Picard, J.-J. Daudin, M. Koskas, S. Schbath, and S. Robin. Assessing the exceptionality of network motifs. Journal of Computational Biology, 15(1):1–20, 2008.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin O’Reilly.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
